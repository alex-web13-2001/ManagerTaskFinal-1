# Task History - User Guide

## Overview
The Task History feature provides a comprehensive audit trail of all changes made to tasks in your project management system.

## Accessing Task History

### Step 1: Open a Task
Click on any task to open the task detail modal.

### Step 2: Navigate to History Tab
You'll see two tabs at the bottom of the task modal:
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** (Comments) - View and add comments
- **–ò—Å—Ç–æ—Ä–∏—è** (History) - View complete change history

Click on the "–ò—Å—Ç–æ—Ä–∏—è" tab to view the task's complete history.

## What Gets Tracked

### Task Creation
When a task is first created, you'll see:
```
‚úÖ [User Name] —Å–æ–∑–¥–∞–ª –∑–∞–¥–∞—á—É
   2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥
```

### Status Changes
When a task status changes:
```
üîÑ [User Name] –∏–∑–º–µ–Ω–∏–ª —Å—Ç–∞—Ç—É—Å
   –ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é ‚Üí –í –ø—Ä–æ—Ü–µ—Å—Å–µ
   1 —á–∞—Å –Ω–∞–∑–∞–¥
```

### Assignee Changes
When someone is assigned to a task:
```
üë§ [User Name] –Ω–∞–∑–Ω–∞—á–∏–ª –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
   –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ü–µ—Ç—Ä–æ–≤
   30 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

When an assignee is removed:
```
üë§ [User Name] —Å–Ω—è–ª –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è
   –ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞
   15 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

### Priority Changes
When task priority changes:
```
üî• [User Name] –∏–∑–º–µ–Ω–∏–ª –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   –°—Ä–µ–¥–Ω–∏–π ‚Üí –í—ã—Å–æ–∫–∏–π
   45 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

### Deadline Changes
When a deadline is set:
```
üìÖ [User Name] —É—Å—Ç–∞–Ω–æ–≤–∏–ª –¥–µ–¥–ª–∞–π–Ω
   25 –¥–µ–∫–∞–±—Ä—è 2024
   1 —á–∞—Å –Ω–∞–∑–∞–¥
```

When a deadline is changed:
```
üìÖ [User Name] –∏–∑–º–µ–Ω–∏–ª –¥ed–ª–∞–π–Ω
   20 –¥–µ–∫ ‚Üí 25 –¥–µ–∫
   30 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

When a deadline is removed:
```
üìÖ [User Name] —É–¥–∞–ª–∏–ª –¥–µ–¥–ª–∞–π–Ω
   10 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

### Title and Description Changes
When the title is changed:
```
‚úèÔ∏è [User Name] –∏–∑–º–µ–Ω–∏–ª –Ω–∞–∑–≤–∞–Ω–∏–µ
   –ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
   20 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

When the description is changed:
```
‚úèÔ∏è [User Name] –∏–∑–º–µ–Ω–∏–ª –æ–ø–∏—Å–∞–Ω–∏–µ
   15 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

### Project Changes
When a task is moved to another project:
```
üìÅ [User Name] –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª –≤ –¥—Ä—É–≥–æ–π –ø—Ä–æ–µ–∫—Ç
   –õ–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ ‚Üí –í–µ–±-—Å–∞–π—Ç
   1 —á–∞—Å –Ω–∞–∑–∞–¥
```

### Category Changes
When a task category is changed:
```
üè∑Ô∏è [User Name] –∏–∑–º–µ–Ω–∏–ª –∫–∞—Ç–µ–≥–æ—Ä–∏—é
   –ë–µ–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –î–∏–∑–∞–π–Ω
   40 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

### Comments
When a comment is added:
```
üí¨ [User Name] –¥–æ–±–∞–≤–∏–ª –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
   –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ –∞–¥–∞–ø—Ç–∏–≤–Ω—É—é –≤–µ—Ä—Å–∏—é –¥–ª—è...
   5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥
```

## Timeline Display

The history is displayed as a beautiful timeline with:

1. **Color-coded icons** for each action type
2. **User avatars** showing who made each change
3. **Relative timestamps** (e.g., "2 —á–∞—Å–∞ –Ω–∞–∑–∞–¥")
4. **Before/after values** for changes
5. **Chronological order** (most recent first)

## Status Translations

The system automatically translates status values to Russian:
- `todo` ‚Üí "–ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é"
- `in_progress` ‚Üí "–í –ø—Ä–æ—Ü–µ—Å—Å–µ"
- `done` ‚Üí "–í—ã–ø–æ–ª–Ω–µ–Ω–æ"

## Priority Translations

Priority values are also translated:
- `low` ‚Üí "–ù–∏–∑–∫–∏–π"
- `medium` ‚Üí "–°—Ä–µ–¥–Ω–∏–π"
- `high` ‚Üí "–í—ã—Å–æ–∫–∏–π"

## Icon Legend

- ‚úÖ **Plus icon (green)** - Task created
- üîÑ **Arrow icon (blue)** - Status changed
- üë§ **User icon (yellow)** - Assignee changed
- üî• **Flame icon** - Priority changed
- üìÖ **Calendar icon** - Deadline changed
- üí¨ **Message icon (purple)** - Comment added
- üìÅ **Folder icon** - Project changed
- üè∑Ô∏è **Tag icon** - Category changed
- ‚úèÔ∏è **Edit icon** - General update

## Empty State

If a task has no history yet, you'll see:
```
üí¨ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–æ–∫–∞ –ø—É—Å—Ç–∞
```

This typically happens with newly created tasks before any changes are made.

## Automatic Updates

The history automatically refreshes when:
- You add a comment
- Any field is updated
- The modal is reopened

## Performance

- History is loaded on-demand when you open the History tab
- Results are cached during the modal session
- Database queries are optimized with proper indexing

## Privacy and Security

- Only users with access to the task can view its history
- History entries show which user made each change
- History is automatically deleted when a task is deleted
- No sensitive data is stored in history entries

## Tips

1. **Review Changes**: Use history to understand why a task was changed
2. **Track Progress**: See how a task evolved over time
3. **Accountability**: Know who made what changes and when
4. **Audit Trail**: Complete record for project management reviews
5. **Team Coordination**: Understand what teammates have done

## Technical Details

For developers and system administrators, see:
- `TASK_HISTORY_IMPLEMENTATION.md` - Technical implementation details
- Database migration: `prisma/migrations/20251210112928_add_task_history/`
