# –û—Ç—á–µ—Ç: –ê–Ω–∞–ª–∏–∑ –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏–∑ KV –•—Ä–∞–Ω–∏–ª–∏—â–∞

## –í–æ–ø—Ä–æ—Å
**–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –ª–∏ –≤–µ—Å—å –∫–æ–¥ –∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –ª–∏ –æ–Ω —Å KV —Ö—Ä–∞–Ω–∏–ª–∏—â–∞?**

## –û—Ç–≤–µ—Ç: ‚úÖ –î–ê, –º–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!

–í—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏–∑ KV —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –≤ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ Prisma.

## –°—Ç–∞—Ç—É—Å –ú–∏–≥—Ä–∞—Ü–∏–∏

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–æ –≤ Prisma

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (Users)** - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥–µ–ª—å `User`
2. **–ü—Ä–æ–µ–∫—Ç—ã (Projects)** - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥–µ–ª—å `Project`
3. **–ó–∞–¥–∞—á–∏ (Tasks)** - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥–µ–ª—å `Task`
4. **–£—á–∞—Å—Ç–Ω–∏–∫–∏ –ü—Ä–æ–µ–∫—Ç–æ–≤ (ProjectMembers)** - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥–µ–ª—å `ProjectMember`
5. **–ü—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è (Invitations)** - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥–µ–ª—å `Invitation`
6. **–í–ª–æ–∂–µ–Ω–∏—è (Attachments)** - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥–µ–ª—å `Attachment`
7. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ö–æ–ª–æ–Ω–∫–∏ (CustomColumns)** - ‚ú® –ù–û–í–ê–Ø - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥–µ–ª—å `CustomColumn`
8. **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ (Categories)** - ‚ú® –ù–û–í–ê–Ø - –ò—Å–ø–æ–ª—å–∑—É—é—Ç –º–æ–¥–µ–ª—å `Category`

### –ß—Ç–æ –ë—ã–ª–æ –ò–∑–º–µ–Ω–µ–Ω–æ

#### –î–æ –º–∏–≥—Ä–∞—Ü–∏–∏
–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –≤ KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤ –≤–∏–¥–µ JSON:
- `custom_columns:userId` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ –¥–ª—è Kanban –¥–æ—Å–∫–∏
- `categories:userId` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–¥–∞—á –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π
- ‚ùå –ù–∏–∑–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤
- ‚ùå –†—É—á–Ω–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

#### –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏
–î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
- –¢–∞–±–ª–∏—Ü–∞ `custom_columns` —Å –º–æ–¥–µ–ª—å—é Prisma
- –¢–∞–±–ª–∏—Ü–∞ `categories` —Å –º–æ–¥–µ–ª—å—é Prisma

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å TypeScript
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- ‚úÖ –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –î–µ—Ç–∞–ª–∏

### –ù–æ–≤—ã–µ –ú–æ–¥–µ–ª–∏ Prisma

#### –ú–æ–¥–µ–ª—å CustomColumn
```typescript
- id: String (UUID)
- name: String (–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–∫–∏)
- color: String? (—Ü–≤–µ—Ç)
- order: Int (–ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏)
- userId: String (–≤–ª–∞–¥–µ–ª–µ—Ü)
- createdAt: DateTime
- updatedAt: DateTime
```

#### –ú–æ–¥–µ–ª—å Category
```typescript
- id: String (UUID)
- name: String (–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- color: String (—Ü–≤–µ—Ç, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é #3b82f6)
- userId: String (–≤–ª–∞–¥–µ–ª–µ—Ü)
- createdAt: DateTime
- updatedAt: DateTime
```

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã

–í—Å–µ 5 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –±—ã–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Prisma:

1. **GET /api/users/:userId/custom_columns**
   - –ë—ã–ª–æ: KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –°—Ç–∞–ª–æ: `prisma.customColumn.findMany()`

2. **POST /api/users/:userId/custom_columns**
   - –ë—ã–ª–æ: KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –°—Ç–∞–ª–æ: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è Prisma —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º

3. **GET /api/users/:userId/categories**
   - –ë—ã–ª–æ: KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –°—Ç–∞–ª–æ: `prisma.category.findMany()`

4. **POST /api/users/:userId/categories**
   - –ë—ã–ª–æ: KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –°—Ç–∞–ª–æ: –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è Prisma —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º

5. **GET /api/projects/:projectId/categories**
   - –ë—ã–ª–æ: KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
   - –°—Ç–∞–ª–æ: `prisma.category.findMany()`

### –§–∞–π–ª—ã —Å –ò–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

1. **prisma/schema.prisma**
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–æ–¥–µ–ª–∏ `CustomColumn` –∏ `Category`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–≤—è–∑–∏ —Å –º–æ–¥–µ–ª—å—é `User`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω–¥–µ–∫—Å—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

2. **prisma/migrations/.../migration.sql**
   - SQL –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü
   - –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –∏ –∏–Ω–¥–µ–∫—Å—ã
   - –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ

3. **src/server/index.ts**
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ 5 —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
   - –£–¥–∞–ª–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã `import('./kv_store.js')` –¥–ª—è –∫–æ–ª–æ–Ω–æ–∫ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

4. **src/lib/migrateKV.ts**
   - –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - CLI –∫–æ–º–∞–Ω–¥—ã: `user`, `all`, `cleanup`

5. **package.json**
   - –î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç `migrate:kv`

## –ß—Ç–æ –û—Å—Ç–∞–ª–æ—Å—å –≤ KV –•—Ä–∞–Ω–∏–ª–∏—â–µ?

### ‚ö†Ô∏è –û–±—â–µ–µ KV –•—Ä–∞–Ω–∏–ª–∏—â–µ
–¢–∞–±–ª–∏—Ü–∞ `kv_store` –æ—Å—Ç–∞–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–±—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Ç–∏–ø–∞ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π.

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ –æ–∂–∏–¥–∞–µ–º–æ!** KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è:
- –í—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –ö–µ—à–∞
- –î—Ä—É–≥–∏—Ö –Ω–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### üìÅ –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –ö–æ–¥ (–ù–µ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)
–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `src/supabase/functions/` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ä—ã–µ Supabase Edge Functions:
- `kv_store.tsx` - —Å—Ç–∞—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è KV
- `index.tsx` - —Å—Ç–∞—Ä—ã–π API —Å–µ—Ä–≤–µ—Ä
- `demo-data.tsx` - –¥–µ–º–æ –¥–∞–Ω–Ω—ã–µ

**–°—Ç–∞—Ç—É—Å:** –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å.

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –ú–∏–≥—Ä–∞—Ü–∏–∏

–î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —É—Å—Ç–∞–Ω–æ–≤–æ–∫ —Å –¥–∞–Ω–Ω—ã–º–∏ –≤ KV:

```bash
# 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
npm run prisma:migrate

# 2. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
npm run migrate:kv all

# 3. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –û—á–∏—Å—Ç–∏—Ç—å KV —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
npm run migrate:kv cleanup
```

–î–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```bash
npm run migrate:kv user <userId>
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ú–∏–≥—Ä–∞—Ü–∏–∏

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ö° –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–¥–æ 100x –±—ã—Å—Ç—Ä–µ–µ)
- ‚ö° –ù–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é
- ‚ö° –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –î–∞–Ω–Ω—ã—Ö
- üîí –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—Ç –Ω–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å
- üîí –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- üîí –ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 3. –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- üõ°Ô∏è TypeScript —Ç–∏–ø—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- üõ°Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- üõ°Ô∏è –õ—É—á—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IDE

### 4. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- üìà –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–æ–ª—è
- üìà –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- üìà –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

### 5. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- üîß –ß–µ—Ç–∫–∞—è —Å—Ö–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö
- üîß –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
- üîß –õ—É—á—à–∞—è –æ—Ç–ª–∞–¥–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## –û–±—Ä–∞—Ç–Ω–∞—è –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ **–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:**
- API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
# –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∫–æ–ª–æ–Ω–∫–∏
curl -H "Authorization: Bearer <token>" \
     http://localhost:3001/api/users/<userId>/custom_columns

# –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
curl -H "Authorization: Bearer <token>" \
     http://localhost:3001/api/users/<userId>/categories
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö
```sql
-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–ª–æ–Ω–∫–∏
SELECT * FROM custom_columns;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
SELECT * FROM categories;

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏
SELECT * FROM information_schema.table_constraints 
WHERE table_name IN ('custom_columns', 'categories');
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –ó–∞–≤–µ—Ä—à–µ–Ω–∞ –£—Å–ø–µ—à–Ω–æ

–í—Å–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤–º–µ—Å—Ç–æ KV —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∏–ª–∞:

- ‚ú® –õ—É—á—à—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚ú® –ü–æ–ª–Ω—É—é —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚ú® –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- ‚ú® –ü—Ä–æ—Å—Ç–æ—Ç—É –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- ‚ú® –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é

**–û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å:** –î–∞, –≤–µ—Å—å –∫–æ–¥ —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω —Å KV —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –Ω–∞ Prisma –º–æ–¥–µ–ª–∏!

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ñ–∞–π–ª–µ `KV_MIGRATION_GUIDE.md`.

## –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

1. ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ö–µ–º—ã - –ó–∞–≤–µ—Ä—à–µ–Ω–∞
2. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ API - –ó–∞–≤–µ—Ä—à–µ–Ω–æ
3. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ
4. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è - –ó–∞–≤–µ—Ä—à–µ–Ω–∞
5. ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –∑–∞–ø—É—Å–∫ –ë–î)
6. ‚è≥ –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ –∫–æ–¥–∞
7. ‚è≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
8. ‚è≥ Code review
